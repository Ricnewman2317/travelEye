{% extends 'guides/base.html' %}

{% block title %}Geolocation{% endblock %}

{% block content %}
    <a href="#" id="get_location">Get Location</a>
    <div id="map">
        <iframe id="google_map" width="80%" height="450" frameborder="0" scrolling="0" marginheight="0" marginwidth="0" src="http://maps.google.ie?output=embed"></iframe>

        <script>
           var m = function(pos){
               var lat = pos.coords.latitude,
               lon = pos.coords.longitude,
               myCoords = lat + ', ' + lon;

               document.getElementById('google_map').setAttribute('src', 'http://maps.google.ie/?q=' + myCoords + '&z=35&output=embed');

           }
            document.getElementById('get_location').onclick = function(){
                navigator.geolocation.getCurrentPosition(m);
                return false;

            }
        </script>

    </div>
{% endblock %}

